2009-05-26  Jules Colding  <colding@42tools.com>

	* support_files/servicelib.nsh:
	* support_files/lorica.nsi:
	* support_files/EnvVarUpdate.nsh:
	Added Nullsoft NSIS installation scripts for Windows

2009-05-01  Jules Colding  <colding@42tools.com>

	* src/lorica/ConfigBase.cpp (get_ifr_options, null_eval_any, generic_evaluator, collocate_ifr):
	Restore documented default behavior (IFR_PERSISTENT = yes)
	and guarantee likewise for the other options

2009-04-28  Jules Colding  <colding@42tools.com>

	* src/lorica/ConfigBase.cpp (Config::get_ifr_options):
	Kill compiler warning (empty statement)

2009-04-23  Jules Colding  <colding@42tools.com>

	* configure.ac:
	Updated to ACETAO x.6.9

	* acetao/Makefile.am ($(TAO_FILES)):
	Simplify for easier maintenance

	* m4/platform_adapt.m4:
	* release.sh:
	Added Ubuntu Intrepid and Jaunty distfiles support.

2009-04-21  Jules Colding  <colding@42tools.com>

	* configure.ac: Updated to ACETAO x.6.9

2009-04-15  Jules Colding  <colding@42tools.com>

	* configure.ac:
	* Makefile.am:
	Added conditional to exclude tests from the build

2009-04-07  Jules Colding  <colding@42tools.com>

	* m4/platform_adapt.m4: CentOS 5.3 support added

2009-04-06  Jules Colding  <colding@42tools.com>

	* src/lorica/ConfigBase.cpp (Config::get_ifr_options):
	Kill compiler warning (unused variable: Debug)

Sun Apr  5 21:33:26 UTC 2009  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/GenericMapper.cpp:
        * src/lorica/IFRService.cpp:
        * src/lorica/MapperRegistry.cpp:

        * src/proxy/UNIX_svc_loader.cpp:
        * src/proxy/proxy.cpp:

	  Remove some redundency and clean up valgrind detected errors.

Sat Apr  4 03:59:27 UTC 2009  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/FileConfig.cpp:

          Fix a typo that prevented processing of numeric values.

        * src/lorica/ProxyMapper.cpp:

          Clean up the code to use the new int value retrieval.

        * src/proxy/proxy.cpp:

          Further potential efficiency gain by allowing the ORB to stay in
          run() full time. The shutdown funtion still does what it needs
          to do. I'm not 100% sure about this if there is a need for the
          ORB to remain viable after the time when a shutdown is triggered.
          If such a need exists, we can surely revert this change.

Sat Apr  4 03:19:41 UTC 2009  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/proxy/Win32_svc_loader.cpp:
        * src/proxy/ntsvc.h:
        * src/proxy/ntsvc.cpp:
        * src/proxy/proxy.cpp:
        * src/proxy/lorica.conf:

          Now even the ntsvc can start on a configurable number of
          threads. Also moved the POA activation out the thread function
          and added documentation of the new Proxy_Threads config param to
          the lorica.conf.

Fri Apr  3 22:35:00 UTC 2009  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/ConfigBase.cpp:

          And one more hack to make the temporary build hack work.

Fri Apr  3 22:29:16 UTC 2009  Phil Mesnier  <mesnier_p@ociweb.com>

        * defines/build-system-defs.h:

          Add a temporary build hack.

Fri Apr  3 21:51:47 UTC 2009  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/ConfigBase.h:
        * src/lorica/ConfigBase.cpp:
        * src/lorica/FileConfig.h:
        * src/lorica/FileConfig.cpp:
        * src/lorica/ProxyMapper.cpp:

          Clean up the interface related to getting values. The method
          names are more consistent, default values are given. Also fixed
          the implementation for obtaining booling values, since it would
          give the opposite result. Added a method for getting integer
          config values.

        * src/lorica/MapperRegistry.h:
        * src/lorica/MapperRegistry.cpp:

          Added a finalizer method to help satisfy valgrind.

        * src/proxy/UNIX_svc_loader.h:
        * src/proxy/UNIX_svc_loader.cpp:
        * src/proxy/Win32_svc_loader.cpp:
        * src/proxy/ntsvc.cpp:
        * src/proxy/proxy.h:
        * src/proxy/proxy.cpp:
        * src/proxy/svc_loader_base.h:
        * src/proxy/svc_loader_base.cpp:

          More functional refactoring. Pulled the process-level details
          out of the proxy class and moved them to the *svc_loader
          classes. Also added the ability to run the proxy with more than
          1 thread to enable a threadpool for the ORB. This doesn't work
          for the case when lorica is run as an NT svc though. That is
          because the NT svc method calls proxy->svc() directly rather
          than proxy->activate().

2009-04-01  Jules Colding  <colding@42tools.com>

        * src/proxy/Win32_svc_loader.h (~Win32_Service_Loader):
        Make the destructor virtual to maintain symmetry with the
        two classes below.

        * src/proxy/UNIX_svc_loader.h (~UNIX_Service_Loader):
        * src/proxy/svc_loader_base.h (~Service_Loader_Base):
        Make the destructor virtual to kill gcc warning.

Tue Mar 31 19:58:35 UTC 2009  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/proxy/Win32_svc_loader.cpp:
        * src/proxy/ntsvc.cpp:

          fix for crash when run in debug mode and ctrl-C is pressed.

Tue Mar 31 19:26:00 UTC 2009  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/proxy/Win32_svc_loader.h:
        * src/proxy/Win32_svc_loader.cpp:
        * src/proxy/main.cpp:
        * src/proxy/svc_loader_base.h:
        * src/proxy/svc_loader_base.cpp:

          fix for build on win32 platform.
Tue Mar 31 14:49:28 UTC 2009  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/proxy/Makefile.am:
        * src/proxy/UNIX_svc_loader.h:
        * src/proxy/UNIX_svc_loader.cpp:
        * src/proxy/Win32_svc_loader.h:
        * src/proxy/Win32_svc_loader.cpp:
        * src/proxy/main.cpp:
        * src/proxy/proxy.cpp:
        * src/proxy/proxy.mpc:
        * src/proxy/svc_loader_base.h:
        * src/proxy/svc_loader_base.cpp:

          Refactoring the service loader behavior to get rid of the
          excessive use of #ifdef ACE_WIN32 which made the code very
          confusing and error prone.

2009-03-27  Jules Colding  <colding@42tools.com>

        * lorica.spec.in: Fix RPM build

2009-03-05  Jules Colding  <colding@42tools.com>

        * Lorica: I've added an externals in support_files.
        This external will fetch items from the Brutus Server
        repository which is needed when building our Brutus
        adapted Lorica distribution files. Please checkout
        Lorica with '--ignore-externals' if you are building
        a generic Lorica.

2009-02-27  Jules Colding  <colding@42tools.com>

        * src/proxy/Makefile.am (IFR_BRUTUS_CACHE_FILE):
        The Windows generated IFR cache  seems to work all
        over the line so no need to distinguish by platform.

        * Makefile.am (release):
        * Makefile.am (release):
        Cleanup error string

2009-02-19  Jules Colding  <colding@42tools.com>

        * defines/hardcoded-defs.h (VERSION):
        Updated the version string.

2009-02-17  Jules Colding  <colding@42tools.com>

        * tests/genericEvaluator/3-way-callback/README:
        Documents the 3-way test.

======================= 1.0.13 ============================

2009-02-12  Jules Colding  <colding@42tools.com>

        * configure.ac: Bumped version.

        * Lorica (License): Changed to the GNU
        Affero General Public License version 3.

        * Makefile.am (release):
        * Makefile.am (distfiles):
        Fix quoting of error text

2009-02-11  Jules Colding  <colding@42tools.com>

        * Makefile.am (DISTCLEANFILES):
        Added file to target.

======================= 1.0.12 ============================

2009-02-10  Jules Colding  <colding@42tools.com>

        * configure.ac: Bumped version.

        * src/lorica/ConfigBase.cpp (random_ip_address):
        Remove this (now) dead function.

        * configure.ac (LIBACETAO_AGE):
        Update to ACE+TAO x.6.8.

        * src/lorica/ConfigBase.cpp (parse_string):
        Revert to using a GUID, instead of a random IPv4 address,
        when setting a random alias on an endpoint.

2009-02-06  Jules Colding  <colding@42tools.com>

        * release.sh : Corrected scp commando

2009-02-05  Jules Colding  <colding@42tools.com>

        * Makefile.am (release):
        * Makefile.am (distfiles):
        Improve warning text.

        * src/proxy/Makefile.am (CLIENT_SVC_FILE):
        Service configuration file to make UTF-8 and UTF-16
        the default character sets.

2009-02-04  Jules Colding  <colding@42tools.com>

        * src/proxy/lorica.conf: Corrected documentation.

2009-02-03  Jules Colding  <colding@42tools.com>

        * Makefile.am (release): Fix build.

2009-02-01  Jules Colding  <colding@42tools.com>

        * src/lorica/ProxyMapper.cpp (add_native_unchecked):
        * src/proxy/ReferenceMapper_i.cpp (as_server_i):
        Correctness fix - Use CORBA::string_free() and char* instead
        of a String_var to hold string returned from object_as_string().

        * src/lorica/ProxyReplyHandler.cpp (handle_location_forward_i):
        Remove 2 unused variables.

2009-01-31  Jules Colding  <colding@42tools.com>

        * src/proxy/proxy.cpp (configure): Fix memory
        leak #284 in the GC'ed Valgrind report.

        * src/proxy/Makefile.am (ABSOLUTE_TOP_DIR):
        Added this variable to fix build when LORICA_ROOT is
        undefined.

2009-01-30  Jules Colding  <colding@42tools.com>

        * configure.ac: Added test for the LORICA_ROOT
        environment variable.

        * Makefile.am (EXTRA_DIST): Remove non-existing
        directory from the target.
        (distfiles): Make sure that $LORICA_ROOT is set when invoking
        the distfiles target.

        * deb/rules: Do not strip binaries when making debs.

        * release.sh: Make the release script configure lorica
        with debugging enabled.

        * src/proxy/Makefile.am (IFR_BRUTUS_CACHE_FILE):
        An absolute path is needed when the distribution
        specific tool builds binary packages.

Thu Jan 29 20:39:30 UTC 2009  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/proxy/main.cpp:
        * src/proxy/proxy.h:
        * src/proxy/proxy.cpp:

          Add a destroy method to the proxy to clean up the ORB resources
          at shutdown time. This is to assist in the filtering of "still
          reachable" memory shown by valgrind.

Thu Jan 29 20:14:29 UTC 2009  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/GenericEvaluator.cpp:
        * src/lorica/ProxyMapper.cpp:
        * src/lorica/ProxyReplyHandler.cpp:

          First round of fixing up memory leaks.

2009-01-28  Jules Colding  <colding@42tools.com>

        * src/proxy/proxy.cpp (configure): We need to call resolve_initial_references()
        several times if, say, a network interface is slow to start or we will get an
        exception trying to create one or more of the endpoints. This is now "solved"
        by sleeping for 10 seconds at most 3 times if an exception is caught and then
        retry the operation. This solution was motivated by observing a wireless
        interface to be really slow to initiate on Windows XP.

2009-01-19  Jules Colding  <colding@42tools.com>

        * tests/genericEvaluator/3-way-callback/lorica-client.conf:
        Use the new random_alias option on the external endpoint.

        * src/lorica/ConfigBase.cpp (random_ip_address):
        New function to calculate random IPv4 IP address
        (parse_string):
        Use randoma IPv4 address instead of UUID which was not
        approved by ACE_INET_Addr on the server side.

======================= 1.0.11 ============================

2009-01-17  Jules Colding  <colding@42tools.com>

        * m4/acetao.m4: Check for ace/UUID.h

2009-01-17  Jules Colding  <colding@42tools.com>

        * configure.ac: Bump version to 1.0.11

        * src/lorica/ConfigBase.cpp (Endpoint::parse_string):
        Coding style cleanups
        (Endpoint::parse_string):
        Added new endpoint option, "random_alias". This will ensure that a server side
        Lorica isn't confused by several references from localhost.

2009-01-17  Jules Colding  <colding@42tools.com>

        * Logging: %P:%t => %T. A timestamp seems more usable than
        thread or process id.

2009-01-16  Jules Colding  <colding@42tools.com>

        * tests/genericEvaluator/3-way-callback/run_test.pl:
        Added ORB debug option to client spawn
        Added warning about non-existing ACE_ROOT environment variable

        * tests/genericEvaluator/3-way-callback:
        A few small fixes all over the place.

2009-01-15  Jules Colding  <colding@42tools.com>

        * tests/genericEvaluator/3-way-callback/Server_i.cpp (Test_Server_i::receive_call):
        Make the server shutdown after the third call.

Thu Jan 15 17:12:01 UTC 2009  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/RMVByMapped.cpp:
          Added debugging output for tracking map access.

2009-01-15  Jules Colding  <colding@42tools.com>

        * configure.ac:
        Added the new test to the configure script.

        * src/lorica/ProxyMapper.cpp (add_native_unchecked):
        Added debug print when adding new mappings.

        * tests: Added 3-way callback test.

2009-01-09  Jules Colding  <colding@42tools.com>

        * src/proxy/main.cpp (print_usage_and_die):
        Remove one to many -n's.

2009-01-07  Jules Colding  <colding@42tools.com>

        * apple/installer/com.42tools.lorica.plist:
        Making launchd keep Lorica alive on Darwin.

2009-01-05  Jules Colding  <colding@42tools.com>

        * src/proxy/Makefile.am:
        Update to the fact that the Brutus specific files have
        all gone from the repository.

2008-12-21  Jules Colding  <colding@42tools.com>

        * configurations/evolution-brutus/lorica.conf:
        Remove ssl_port from default configuration.

2008-12-19  Jules Colding  <colding@42tools.com>

        * src/proxy/Makefile.am (IFR_BRUTUS_CACHE_FILE):
        Use system specific IFR cache file

        * configurations/evolution-brutus/lorica.conf:
        Use BiDir by default

2008-12-18  Jules Colding  <colding@42tools.com>

        * configurations/evolution-brutus/lorica.conf:
        Updated to support SSL by default.

        * src/proxy/Makefile.am: We are no longer shipping the
        Brutus IFR cache with the repository so this files needed
        to be updated.

2008-12-17  Jules Colding  <colding@42tools.com>

        * Lorica: Removed Visual Studio project files from repo

Tue Dec 16 20:17:56 UTC 2008  Phil Mesnier  <mesnier_p@ociweb.com>

        * MPC/config/lorica_ssliop.mpb:
        * MPC/config/loricacommon.mpb:
        * lorica.mwc:

          Created MPC/config directory to provide a directory structure
          consistent with other MPC related projects. More project base
          files are anticipated and will be added here.

        * src/lorica/ConfigBase.cpp:
        * src/lorica/ProxyMapper.cpp:

          Minor syntax cleanup.

        * src/lorica/MapperRegistry.cpp:
        * src/proxy/ReferenceMapper_i.h:
        * src/proxy/ReferenceMapper_i.cpp:
        * src/proxy/main.cpp:
        * src/proxy/proxy.cpp:

          Added the rest of the changes to support optional ssliop
          dependency. Requires LORICA_LACKS_SSLIOP be defined to disable
          ssliop use. This will be added to the MPC framework later.

Sat Dec 13 22:53:49 UTC 2008  Phil Mesnier  <mesnier_p@ociweb.com>

        * utils/ior_mapper/ior_mapper.cpp:

          Fixed the default Lorica IOR and added a commandline option
          to permit supplying an alternate Lorica IOR.

Fri Dec 12 22:37:21 UTC 2008  Phil Mesnier  <mesnier_p@ociweb.com>

        * lorica.mwc:

          Add the util directory, comment out the exclusion for gnuace.

        * src/lorica/EvaluatorLoader.cpp:

          Report an error and fail if mapper registry cannot load.

        * src/lorica/ProxyMapper.cpp:

          Fix for evaluating already mapped references. The existing method
          can cause bus errors due to byte alignment. Also make dependency
          on ssliop conditional at compile time.

        * src/loricacommon.mpb:

          Add explicit path to generate_export_file.pl so that ACE_ROOT/bin
          need not be in the path.

        * src/proxy/proxy.cpp:

          Fix Lorica::GenericMapper::GenericMapper.

        * tests/genericEvaluator/callback/client.cpp:

          Add a call to sender->_non_existent() to set up the connection
          before activating the test.

        * utils/ior_mapper:

          Added this handy little utility for loading server-side
          object references into lorica.

2008-12-10  Jules Colding  <colding@42tools.com>

        * Remove Brutus IFR cache files from the repository

2008-11-28  Jules Colding  <colding@42tools.com>

        * src/proxy/main.cpp (ACE_TMAIN):
        Use SetDllDirectory() on Windows when Windows 2000
        has become irrelevant.

        * tests/fileConfig/main.cpp (main):
        Update the ORB options to reflect what is currently used
        by Lorica.

        * tests/fileConfig/Makefile.am (TESTS):
        Activate the fileConfig test.

        * configure.ac: Upgrade ACETAO to x.6.7

        * acetao/Makefile.am (UPDATE_FROM_SVN):
        Make this target not do anything if not using
        ACETAO from svn.

2008-11-26  Jules Colding  <colding@42tools.com>

        * src/proxy/ntsvc.cpp (handle_timeout):
        Remove useless beep from timeout handler

2008-11-25  Jules Colding  <colding@42tools.com>

        * src/proxy/main.cpp: Fix a few ';;'

2008-11-25  Jules Colding  <colding@42tools.com>

        * src/proxy/main.cpp (ACE_TMAIN):
        Fix posssible segv when setting current working
        directory on Windows.

2008-11-08  Jules Colding  <colding@42tools.com>

        * Lorica:
        Released on Ubuntu Hardy

======================= 1.0.10 ============================

2008-11-07  Jules Colding  <colding@42tools.com>

        * defines/hardcoded-defs.h:
        * src/lorica/ConfigBase.cpp:
        Build fox for WIndows

2008-11-06  Jules Colding  <colding@42tools.com>

        * .am:
        gperf ==> ace_gperf for all automake files

        * defines/Makefile.am:
        * defines/hardcoded-defs.h:
        Removed unneeded defines

        * m4/platform_adapt.m4:
        The cache directory was needed in src/proxy/Makefile.am

        * src/proxy/lorica.conf:
        Configured as a client Lorica. Cleaned up and better
        organized.

        * src/proxy/Makefile.am:
        The installation is now by default configured as a Brutus
        client Lorica

        * src/lorica/ConfigBase.cpp (Endpoint::as_tao_endpoint):
        Make the endpoints explicitly GIOP v1.2

        * defines/build-system-defs.h:
        Put the inclusion of hard coded defines entirely within
        an if-else block.

        * configure.ac: Added check for "ifaddrs.h". Defines
        LORICA_LACKS_IFADDRS if missing.

        * defines/hardcoded-defs.h (LORICA_LACKS_IFADDRS):
        Must be unconditionally defined on Windows.

        * src/lorica/ConfigBase.cpp (get_first_external_ip):
        Remove old exit() debug code - see comment for svn revision 401.

Wed Nov  5 18:27:45 UTC 2008  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/ConfigBase.cpp:

          Revert the change from Jul 24 11:35:27 to restore the order of
          evaluation on the endpoints. The IFR issue was resolved by adding
          a new interface to the IFR_Service to allow the loader to supply
          a POA to become the new root, thus allowing the IFR to explicitly
          use only the inside endpoint.

          The external endpoint must be evaluated first to work around an
          issue with the evaluation of bidirectional GIOP listen points.

2008-11-05  Jules Colding  <colding@42tools.com>

        * configure.ac:
        * m4/acetao.m4:
        * acetao/Makefile.am:
        Updated to support building ACE and TAO from svn instead of a
        distribution tarball. Just use --enable-tao-svn-build to use
        this feature.

        * apple/installer/resources/ReadMe.rtf: Updated with information
        about the Mac OS X Application Firewall.

        * acetao/acetao_svn_update.sh: New file to help fix horrible
        performance/functional issues with "make" logic.

        * tests/genericEvaluator/bidir/client.conf: (On  behalf of Phil)
        New file to prevent creation of additional connections

        * tests/genericEvaluator/bidir/run_test.pl:
        Avoid timeout error by increasing wait time.
        Prevent creation of addition connection that
        would spoil the test.

        * tests/genericEvaluator/callback/run_test.pl:
        Avoid timeout error by increasing wait time.

Sat Nov  1 14:14:25 UTC 2008  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/GenericMapper.cpp:
        * src/lorica/IFRService.h:
        * src/lorica/IFRService.cpp:
        * src/lorica/ProxyMapper.h:

          Use the new interface in the TAO_IFRService to supply a POA
          as well as an ORB to the IFRService initializer.

2008-10-20  Jules Colding  <colding@42tools.com>

        * src/proxy/main.cpp (become_daemon): Follow launchd.plist(5)
        closely when running on Darwin.

2008-10-10  Jules Colding  <colding@42tools.com>

        * release.sh (product): Do not redistribute the Windows
        debug build.

        * Lorica: Updated a few files related to the Windows
        installer.

2008-10-07  Jules Colding  <colding@42tools.com>

        * configure.ac: Released 1.0.9

        * src/proxy/proxy.cpp (get_file): Fix initialization
        of an ACE_HANDLE local variable

        * src/lorica/ConfigBase.cpp (get_first_external_ip):
        Remove really, really stupid brown paper bag kind of bug....

        * configure.ac:
        * tests/Makefile.am:
        * tests/mapForClientWithCorbaloc/Makefile.am:
        * tests/mapForClientWithCorbaloc/Hello.h:
        * tests/mapForClientWithCorbaloc/Test.idl:
        * tests/mapForClientWithCorbaloc/Hello.cpp:
        Reverted accidental commit of broken code.

2008-10-06  Jules Colding  <colding@42tools.com>

        * src/lorica/ConfigBase.cpp (Endpoint::as_tao_endpoint):
        Explicitly create endpoints with GIOP 1.2

        * m4/acetao.m4: Bump serial number

2008-09-29  Jules Colding  <colding@42tools.com>

        * m4/acetao.m4: Check for ACETAO epoch and decide to test for gperf
        or ace_gperf.

        * configure.ac (ACETAO_EPOCH): Enables numerical version comparisons.

        * src/lorica/ProxyReplyHandler.cpp (ProxyReplyHandler::handle_location_forward_i):
        Remove debug message which is printed "a lot".

Sat Sep 27 14:06:14 UTC 2008  Phil Mesnier  <mesnier_p@ociweb.com>

        * tests/genericEvaluator/logging/Makefile.am:

        Pull the redundant lorica_Client from library list.

2008-09-12  Jules Colding  <colding@42tools.com>

        * configure.ac: Increment version - now 1.0.7

        * src/proxy/lorica.conf: Documented the new '?' NIC identifier.

        * configurations/evolution-brutus/lorica.conf.evolution-brutus:
        Change External_Address to use the new '?' NIC identifier.

        * src/lorica/ConfigBase.cpp (get_ip_from_ifname): Fix
        possible SEGV.
        (get_first_external_ip): New function. It will attempt
        with best effort to deduce the first non-localhost IPv4 or
        IPv6 address. Use '?' for NIC name in a '%' or '+' endpoint
        specification.

        * configurations/README: Small file explaining the contents
        of /etc/lorica/.

        * src/proxy/Makefile.am: Put sample configurations into /etc/lorica/.

        * src/proxy/main.cpp (Service_Loader::print_usage_and_die):
        Make the output using ACE_OS::printf() on non-Windows as nothing
        went to the terminal.
        (Service_Loader::parse_args): Make the version string use
        ACE_OS::printf() too.

        * src/proxy/proxy.cpp:
        The indentation was screwed up, fixed.

        * src/proxy/main.cpp (Service_Loader::parse_args):
        Do not run if asked for the version.

2008-09-03  Jules Colding  <colding@42tools.com>

        * src/lorica/ProxyMapper.cpp (ProxyMapper::already_mapped):
        Made the LM_WARNING depend upon the Lorica debug level. The
        "got a reference mapped by another Lorica" was filling up
        the logs.

2008-08-28  Jules Colding  <colding@42tools.com>

        * configure.ac: Lorica 1.0.6

        * defines/hardcoded-defs.h (VERSION): Incremented VERSION.

        * src/lorica/ConfigBase.cpp (Endpoint::as_tao_endpoint):
        Print the TAO endpoint specification.
        (Endpoint::parse_string): Print an warning message if the
        NIC address couldn't be autodetected. Pause 10 seconds and
        try again.
        (get_ip_from_ifname): Added paranoia check on the address
        string.

2008-08-27  Jules Colding  <colding@42tools.com>

        * configurations/brutus_server/lorica.conf:
        Improve documentation

        * src/proxy/Makefile.am (IFR_BRUTUS_CACHE_FILE):
        Fix typo.

        * configurations/evolution-brutus/lorica.conf.evolution-brutus:
        Improve comment explaining what to modify in the configuration.

        * src/proxy/Makefile.am ($(LORICA_top_dir)/configurations/evolution-brutus/ifr.cache):
        Install the Brutus IFR cache file too, but let it go to "/etc/".

        * configurations/evolution-brutus/lorica.conf.evolution-brutus:
        Updated to reflect that the Brutus IFR cache file is present
        in the distribution.

        * lorica.spec.in (%files):
        Added the IFR cache file

        * defines/hardcoded-defs.h (VERSION):
        Updated to "1.0.4"

2008-08-20  Jules Colding  <colding@42tools.com>

        * src/proxy/Makefile.am (LORICA_LIBS):
        * src/OCI/Makefile.am (lib_LTLIBRARIES):
        * src/lorica/Makefile.am (lib_LTLIBRARIES):
        * configure.ac: Added option (--enable-lorica-shared-libs)
        to force building of shared libraries.

2008-08-11  Jules Colding  <colding@42tools.com>

        * src/proxy/main.cpp (Service_Loader::parse_args): Fix
        non-Windows build.

        * src/proxy/proxy.cpp (get_file): Fix file creation on Windows.
        Print errors when opening and creating the file (if any).
        (get_file): Fix non-Windows build.

        * src/proxy/main.cpp (Service_Loader::parse_args):
        Print command line options to the log.
        (ACE_TMAIN): Initialize the logging framework earlier.

        * configurations/evolution-brutus/lorica.conf.evolution-brutus:
        * configurations/brutus_server/lorica.conf:
        Simplified configuration templates.

2008-08-09  Jules Colding  <colding@42tools.com>

        * src/lorica/ConfigBase.cpp (Config::get_orb_options):
        Disable shared profiles by default. It is still posible to enable
        shared profiles in the configuration file.

2008-08-08  Jules Colding  <colding@42tools.com>

        * configure.ac: Added printout of used ACE+TAO version

        * src/proxy/ReferenceMapper_i.cpp (ReferenceMapper_i::as_client_with_corbaloc):
        Temporarely out-commented _non_existent() check.

        * src/lorica/GenericMapper.cpp (GenericMapper::evaluator_for):
        Added debug printout of failing IFR ID.

        * tests/mapForClientWithCorbaloc/Makefile.am (client_LDADD):
        * tests/mapForClientWithCorbaloc/Makefile.am (server_LDADD):
        Fix library list.

        * src/proxy/proxy.cpp: Changed indentation level to 8.

2008-08-06  Jules Colding  <colding@42tools.com>

        * src/proxy/proxy.cpp (get_file): Fix variable type

        * src/proxy/main.cpp: Added ifdef to make it build on Windows

        * tests/mapForClientWithCorbaloc/Makefile.am (TAO_IDLFLAGS): Remove
        unneeded "-GI".

        * tests/mapForClientWithCorbaloc/client.cpp (main): Inserting space to align
        output strings.

2008-08-05  Jules Colding  <colding@42tools.com>

        * tests/mapForClientWithCorbaloc/client.cpp (main): Cleanups

        * src/lorica/MapperRegistry.h (Lorica_MapperRegistry):
        * src/lorica/MapperRegistry.cpp (Lorica_MapperRegistry::map_reference_with_ifr_id):
        Removed this redundant function.

Tue Aug  5 14:37:42 UTC 2008  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/proxy/ReferenceMapper_i.cpp:
          Force the synthesized object reference to take on the supplied
          type identifier. This is necessary so that the "native" reference
          placed in the mapper's repository will have the correct type and
          thus be associated with the proper evaluator.

2008-08-05  Jules Colding  <colding@42tools.com>

        * src/proxy/ReferenceMapper_i.cpp (ReferenceMapper_i::as_client_with_corbaloc):
        Added check for _non_existent().

        * src/lorica/ProxyMapper.cpp: I really can't read with an indent level of 2.
        Changed to 8.

        * src/lorica/MapperRegistry.h:
        * src/lorica/MapperRegistry.cpp (Lorica_MapperRegistry::map_reference_with_ifr_id):
        This function was previously known as map_reference_with_object_id().
        (Lorica_MapperRegistry::map_reference): Removed an invokation of _interface_id()
        which is not expected to work in the general case.

        * src/proxy/ReferenceMapper_i.h:
        * src/proxy/ReferenceMapper_i.cpp (ReferenceMapper_i::as_client_with_corbaloc):
        Change to work directly on a corbaloc string and an IFR ID. This function was
        previously as_client_with_object_id().

        * src/lorica/ReferenceMapper.idl: Name change for corbaloc specific as_client()
        method. It now takes a valid CORBALOC string and an IFR ID.

2008-08-04  Jules Colding  <colding@42tools.com>

        * configure.ac: Incremented the version and added the new test directory
        to autogenerate the Makefile.

        * tests/lorica_tests.lst: Added test directory

        * tests/mapForClientWithObjectID: Test case for the new ReferenceMapper
        method.

        * src/lorica/MapperRegistry.h:
        * src/lorica/MapperRegistry.cpp (Lorica_MapperRegistry::map_reference_with_object_id):
        Helper function with the same functionality as map_reference() but with an explicit
        repository id argument.

        * src/proxy/ReferenceMapper_i.h:
        * src/proxy/ReferenceMapper_i.cpp (ReferenceMapper_i::as_client_with_object_id):
        Implementation of the new method mentioned below.

        * src/lorica/ReferenceMapper.idl: Added method to do as_client()
        mappings for corbaloc originated objects.

2008-07-29  Jules Colding  <colding@42tools.com>

        * configure.ac: Version 1.0.3

        * src/lorica/ConfigBase.cpp (Endpoint::parse_string):
        Fix stupid bug for assigning autodetected IP addresses
        to IPv[4.6] endpoints.

2008-07-25  Jules Colding  <colding@42tools.com>

        * release.sh: Fix distfiles target on CentOS.

        * src/lorica/ProxyMapper.cpp (ProxyMapper::already_mapped):
        Fix format specifier so that it doesn't mess up your terminal.

        * deb/rules (config.status): Added --enable-tao-build to
        fix deb creation.

        * src/lorica/ProxyMapper.cpp (ProxyMapper::ProxyMapper):
        Fix compiler error (ACE_HAS_IPV6 not definbed).

Thu Jul 24 12:06:21 UTC 2008  Phil Mesnier  <mesnier_p@ociweb.com>

        * configure.ac:
          Bumped the version number.

Thu Jul 24 11:35:27 UTC 2008  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/ConfigBase.cpp:
          Swap the order of initialization for the endpoint arguments
          passed to the ORB. This is necessary to ensure the internal
          endpoint appears first on references created by the RootPOA.
          This specifically addresses a problem where the IFR, when
          collocated, makes a RootPOA based IOR then internal clients
          cannot reach it if the external endpoint is not reachable
          from inside the firewall. External clients have no business
          directly manipulating the IFR anyway, probably the internal
          POA needs to be supplied to the IFR for its IOR creation.

        * src/lorica/ProxyMapper.cpp:
          Add support for IPv6.

        * src/proxy/main.cpp:
        * src/proxy/proxy.h:
        * src/proxy/proxy.cpp:
          Introduced some ACE_OS:: wrappers for certain IO functions to
          reduce the need to pollute the code with excessive #ifdef
          ACE_WIN32 checks. There are still some of those checks remaining
          that should probably be addressed at some point.

2008-07-24  Jules Colding  <colding@42tools.com>

        * configure.ac: Added option to enable IPv6 in ACE. Defaults
        to off.

2008-07-12  Jules Colding  <colding@42tools.com>

        * Autotools: Updated for Autoconf 2.60

2008-07-04  Jules Colding  <colding@42tools.com>

        * m4/platform_adapt.m4: CentOS build support.

2008-06-19  Jules Colding  <colding@42tools.com>

        * src/lorica/ConfigBase.cpp (Endpoint::parse_string):
        Added configuration extension. It is now possible to use the
        interface name instead of a hostname or an ip address when
        specifying a Lorica endpoint.

        Prefix, say, eth0 with '%' to use the IPv4 address on eth0
        in the endpoint specification.

        Prefix, say, eth0 with '+' to use the IPv6 address on eth0
        in the endpoint specification.

        This closes http://bugzilla.42tools.net/show_bug.cgi?id=14.

2008-05-20  Jules Colding  <colding@42tools.com>

        * acetao/Makefile.am ($(ACE_ROOT)): Fix timestamp on untarred
        files.

2008-05-15  Jules Colding  <colding@42tools.com>

        * configure.ac: Tentatively up the version to 1.0.0

        * release.sh (product): Make RPMs on any Fedora platform.

        * m4/platform_adapt.m4: Relax on the Fedora version when deciding
        the build platform.

2008-04-30  Jules Colding  <colding@42tools.com>

        * src/lorica/ProxyMapper.cpp (ProxyMapper::already_mapped):
        Fix potential segv.
        (ProxyMapper::already_mapped): Reverted the above nonsense and
        corrected the input format of the ACE_DEBUG statement.

        * src/OCI/OperationTable.cpp (OperationTable::add_is_a)
        (OperationTable::add_non_existent): Removed the debug notices
        mention in the entry of 2008-04-29.

Tue Apr 29 23:44:01 2008  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/RMVByMapped.cpp (svc):
          Fix the garbage collector to assume a BAD_OPERATION exception
          comes from an otherwise existing peer object that happens to not
          implement CORBA::Object::_non_existent(). Other exceptions, such
          as INV_OBJREF, and COMM_FAILURE will still expire the map
          entry. TRANSIENT will too, for the moment, but that may not
          always be the case.

2008-04-29  Jules Colding  <colding@42tools.com>

        * src/OCI/OperationTable.cpp (OperationTable::add_is_a)
        (OperationTable::add_non_existent): Added temporary debug norice
        to ensure that these operations really are used appropriately.

2008-04-22  Jules Colding  <colding@42tools.com>

        * src/proxy/ReferenceMapper_i.cpp (ReferenceMapper_i::as_server)
        (ReferenceMapper_i::as_secure_server)
        (ReferenceMapper_i::as_client, ReferenceMapper_i::remove_server)
        (ReferenceMapper_i::remove_client):
        Handle NIL input references early

        * bootstrap (srcdir): Reversed order of autoconf and automake
        when not using the reconf option.

        * acetao/Makefile.am: Added TAO_Strategies library which is
        needed for UIOP support.

2008-04-21  Jules Colding  <colding@42tools.com>

        * configurations/evolution-brutus/lorica.conf.evolution-brutus:
        Added UIOP support which is needed to support the way ORBit2
        does local-only native references.

2008-04-17  Jules Colding  <colding@42tools.com>

        * Lorica: Improved logging output format

2008-04-15  Jules Colding  <colding@42tools.com>

        * src/lorica/RMVByMapped.cpp (RMVByMapped::svc):
        Experimenting with %n:%l in ACE_DEBUG to see if readability
        is improved thereof.

2008-04-14  Jules Colding  <colding@42tools.com>

        * init.d: Added "sleep 3" between stop and start to fix restart

        * src/proxy/main.cpp (ACE_TMAIN):
        Renamed log file to "lorica.log"

Fri Apr 11 17:59:41 UTC 2008  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/ProxyMapper.cpp:
          Make the already_mapped() method tolerant of IORs with null
          object keys. At least ORBit encodes its IOR putting object key
          information in a non-standard profile rather than using the
          object key field. At least that is how TAO parses it. With this
          change NULL object keys are treated as unmapped references,
          since mapped references will have a known object key.

2008-04-08  Jules Colding  <colding@42tools.com>

        * src/lorica/ConfigBase.cpp (Config::init_endpoints):
        Use the correct port number for defaulted endpoints

2008-03-31  Jules Colding  <colding@42tools.com>

        * acetao/Makefile.am ($(TAO_FILES)): Cleanup

2008-03-28  Jules Colding  <colding@42tools.com>

        * acetao/Makefile.am ($(TAO_FILES)): Fix else statement

Sun Mar 23 00:06:11 UTC 2008  Phil Mesnier  <mesnier_p@42tools.com>

        * src/lorica/GenericMapper.cpp:
          Add the conditional explicit initialization of the IFR_Client
          when statically linking.

2008-03-21  Jules Colding  <colding@42tools.com>

        * acetao/Makefile.am: Still working on static build...

2008-03-20  Jules Colding  <colding@42tools.com>

        * defines/hardcoded-defs.h: Added a few missing defines

2008-03-19  Jules Colding  <colding@42tools.com>

        * Lorica: config.h and windefs.h used to contain build
        system specific defines. This gave rise to a lot of ifdef'ed
        include statements. This has now been cleaned up and all
        build system specific defines are now defined and imported
        by including "defines/build-system-defs.h".

        A new preprocessor define LORICA_HAS_DOC_MPC is defines in
        the MPC project files to aid in recognizing usage of MPC.

2008-03-17  Jules Colding  <colding@42tools.com>

        * src/lorica/ConfigBase.cpp (Config::init_endpoints):
        (Endpoint::parse_string):
        Supply a default hostname if not given in the
        configuration file

        * src/proxy/lorica.conf: Whitespace changes only to
        make a comment more readable

        * src/lorica/ConfigBase.cpp (Config::get_orb_options):
        Use shared profiles by default

        * src/proxy/lorica.conf: Added '#' to preserve comment style

        * src/lorica/RMVByMapped.cpp: Fix copyright year

2008-03-15  Jules Colding  <colding@42tools.com>

        * src/lorica/ReferenceMapValue.h (Lorica): Removed
        unneeded member that was accidentally added by me

Sat Mar 15 12:46:41 UTC 2008  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/proxy/main.cpp:
          clean up version message.

        * tests/garbageCollector/client.cpp:
        * tests/genericEvaluator/bidir/client.cpp:
          Fix compile error introduced with post TAO 1.6.3

2008-03-14  Jules Colding  <colding@42tools.com>

        * configure.ac: Replaced obsolete macro AC_HELP_STRING
        with AS_HELP_STRING

        * acetao/Makefile.am ($(TAO_FILES)): Workaround for g++
        bug on RHEL

        * configure.ac: Added --with-acetao-X version options.
        (LORICA_FIX_GXX_BUG): Workaround for g++ bug on RHEL

Fri Mar 14 02:38:56 UTC 2008  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/RMVByMapped.cpp:
          Add missing return to svc function.

Fri Mar 14 00:54:58 UTC 2008  Phil Mesnier  <mesnier_p@ociweb.com>

        * INSTALL:
          synching the repository version of this apparently generated file.

        * src/lorica/RMVByMapped.cpp:
          Fixed the recalculation of the timeout to ensure it is always set to
          the next absolute time value.

        * tests/garbageCollector/client.cpp:
        * tests/garbageCollector/run_test.pl:
          Fix the test so that if the gc period is configured to something
          long to demonstrate the failure case actually fails.

        * tests/genericEvaluator/bidir/run_test.pl:
        * tests/genericEvaluator/bidir/test.conf:
          Use localhost endpoints in an explicit configuration to ensure
          the test passes.

2008-03-14  Jules Colding  <colding@42tools.com>

        * src/proxy/Makefile.am (lorica_LDADD, TAO_LIBS):
        * acetao/Makefile.am (TAO_LIBS): Added TAO_BiDirGIOP bits
        that was MIA.

Thu Mar 13 19:14:48 UTC 2008  Phil Mesnier  <mesnier_p@ociweb.com>

        * configure.ac:
        * m4/acetao.m4:

          Added checks for new BiDir_GIOP and config for buiding new tests.

        * src/lorica/ProxyMapper.h:
        * src/lorica/RMVByNative.h:
        * src/lorica/RMVByNative.cpp:
        * src/lorica/Makefile.am:

          Expunged references to the unneeded RMVByNative type.

        * src/lorica/ProxyMapper.cpp:
        * src/lorica/lorica_EvaluatorBase.mpc:

          Added the initialization of the bidirectional GIOP policy.

        * src/lorica/RMVByMapped.h:
        * src/lorica/RMVByMapped.cpp:

          Added garbage collection strategy implementation

        * src/proxy/lorica.conf:

          Documented the garbage collection period configuration option.

        * src/proxy/proxy.mpc:

          Added explicit dependency on generic evaluator library. This
          explicit dependency should not be necessary, but the order of
          initialization imposed by the IFR linkage demands it. There should
          be a better solution to avoid this linkage so that instances of
          Lorica may be created without adding in the generic evaluator.

        * tests/Makefile.am:
        * tests/garbageCollector:
        * tests/genericEvaluator/Makefile.am:
        * tests/genericEvaluator/bidir:

          New tests created to support the new garbage collector and bidir
          features.

2008-03-11  Jules Colding  <colding@42tools.com>

        * configure.ac: Version bump to 0.9.4

2008-03-10  Jules Colding  <colding@42tools.com>

        * src/proxy/proxy.cpp (Proxy::configure): Fix writing of
        PID file on non-Windows.

2008-03-09  Jules Colding  <colding@42tools.com>

        * tests: All test cases now build by autotools.

2008-03-08  Jules Colding  <colding@42tools.com>

        * test/: Correct all references to the Lorica executable

        * src/proxy/proxy.cpp (Proxy::configure): Fix the build by
        removing a forgotten string.

2008-03-04  Jules Colding  <colding@42tools.com>

        * src/lorica/ReferenceMapper.idl: Updated the port names
        to be more similar to the short names used in the IANA
        registration (http://iana.org/assignments/port-numbers).

        * configure.in (LIBACE): Updated to ACE+TAO x.6.3

        * src/lorica/GenericEvaluator.cpp: Fix build warning

2008-02-29  Jules Colding  <colding@42tools.com>

        * src/lorica/ConfigBase.cpp (Config::init_endpoints):
        Use IANA registered default port numbers if none is
        specified in the configuration file.
        (Endpoint::parse_string): Detect malformed port
        specifications and use the IANA registered as defaults
        in that case.

2008-02-27  Jules Colding  <colding@42tools.com>

        * src/lorica/FileConfig.cpp (FileConfig::load):
        TRim trailing whitespace on values.

2008-02-26  Jules Colding  <colding@42tools.com>

        * src/lorica/FileConfig.cpp (FileConfig::load):
        Correct for CRLF and other whitespace issues.
        (FileConfig::load): Fix commenting.
        (FileConfig::load): Prevent segv.

2008-02-22  Jules Colding  <colding@42tools.com>

        * configure.in: Fix iquote support (thanks Phil).

        * deb/: Ubuntu Gutsy installation support

        * configure.in (LORICA_INCLUDES): Check for -iquote DIR
        compiler support.

2008-02-21  Jules Colding  <colding@42tools.com>

        * configure.in (LORICA_CXXFLAGS):Check compiler support
        for all flags.

        * src/proxy/Makefile.am (lorica_LDADD): Removed tao_gperf
        and tao_idl as install targets.

2008-02-20  Jules Colding  <colding@42tools.com>

        * m4/: Fix compiler bug seen on gutsy.

        * configure.in (LORICA_CPPFLAGS):
        Check for -Wextra compiler support.
        Remove -O3 from CXXFLAGS.

2008-02-19  Jules Colding  <colding@42tools.com>

        * m4/acetao.m4: Fix CPPFLAGS bug as pointed out
        by Phil (Thanks!).

        * configure.in (LORICA_top_dir): Check for supported
        compiler flags.

        * src/proxy/proxy.cpp (Proxy::get_lock): Added logic on
        non-Windows to ensure that only one proxy daemon is
        running at any one time.

        * m4/acetao.m4: Fix bug. Must always use $ACE_ROOT if it
        is set in the environment.

2008-02-17  Jules Colding  <colding@42tools.com>

        * src/lorica/lorica_EvaluatorBase.mpc (project): Fix
        breakage caursed by renaming (Well, Phil actually
        did this first).

2008-02-13  Jules Colding  <colding@42tools.com>

        * src/lorica/ReferenceMapper.idl: Added default in and out
        facing ports as IDL constants.

2008-02-06  Jules Colding  <colding@42tools.com>

        * src/proxy/main.cpp (become_daemon): Create cache directory
        on !Windows.

        * src/lorica/ConfigBase.cpp (Config::get_orb_options):
        s/ORBEndpoint/ORBListenEndpoints/g
        (Endpoint::parse_string): Accept endpoints with empty
        hostname part.

2008-01-26  Jules Colding  <colding@42tools.com>

        * src/proxy/Makefile.am: Install lorica in /usr/sbin
        by default.

2008-01-25  Jules Colding  <colding@42tools.com>

        * Lorica: Major build rework on Linux. The autotool build
        system does now seem to work.

2008-01-23  Jules Colding  <colding@42tools.com>

        * Lorica: Ported Lorica to use the GNU autotools on Linux
        and Darwin. Still using MPC on WIndows though. To build on
        Linux or Darwin please do:

        ./autogen.sh --enable-tao-build && make

        The enable-tao-build switch will make Lorica build ACE and
        TAO locally is the system lacks anything in that regard.

2008-01-15  Jules Colding  <colding@42tools.com>

        * lorica.mwc:

          Exclude the automake project target

Sun Jan  6 05:18:38 UTC 2008  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyMapper.cpp:

          Fixed a reference counting error in remove_reference which
          caused a crash by inadvertently deleting the POA due to improper
          reference management.

          Also, provisionally removed the native_values_ map. After a code
          review, I determined that this map is never referenced, and thus
          redundent. The map also had a problem in that its ability to
          distinguish object references was fundamentally flawed. This
          flaw is related to the nature of the encapsulated object key,
          which by spec is opaque, and due to the possible presense of
          uninitialized CDR padding bytes impossible to reliably compare.

        * src/proxy/ReferenceMapper_i.h:
        * src/proxy/ReferenceMapper_i.cpp:

          Removed the DECISION_OBJECT_AVAILABLE macro. That was included
          only for the time when the decision object code was under
          development and thus not available in the publicly available
          release of TAO. In fact, the flag caused alignment problems
          because it was only set in the header when compiling
          ReferenceMapper_i.cpp. When included in other .cpp files the
          flag was not set, and so the affected reference was missing.

        * tests/genericEvaluator/forward/forward.mpc:
        * tests/genericEvaluator/union/union.mpc:

          Fix the mpc files so that a top level makefile generation does
          not complain about replicated project names.

        * tests/genericEvaluator/forward/test_i.cpp:

          This file was including the incorrect PI header. Now TAO exits
          with an error if that header is included.

2008-01-04  Rasmus Maagaard  <rasmusmaagaard@42tools.com>

        * tests/genericEvaluator/unbind:

          To more clearly simulate our issue with Lorica we updated the test
          to run the server twice.

2008-01-03  Jules Colding  <colding@omesc.com>

        * src/proxy/main.cpp (Service_Loader::parse_args):

          Warn and exit on WIN32 for non-valid startup options.

2008-01-03  Rasmus Maagaard  <rasmusmaagaard@42tools.com>

        * tests/genericEvaluator/unbind:

          Added a new test for validating the unbinding of mapped references.

2008-01-01  Jules Colding  <colding@42tools.com>

        * src/proxy/main.cpp: s/is_nt_service/is_service/g
        (Service_Loader::print_usage_and_die)
        (Service_Loader::parse_args): Cleanup options so to not
        offer options that are known to be unavailable on the
        platform in question.

2008-01-01  Jules Colding  <colding@42tools.com>

        * docs/building_lorica.txt: Updated.

2007-12-19  Jules Colding  <colding@42tools.com>

        * README: Slight change in the wording of the last
        paragraph.

Tue Nov  6 02:59:28 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyMapper.cpp:

          Added error detection for unmappable references.

Mon Nov  5 23:22:27 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/ProxyReplyHandler.cpp:

          Reversed the sense of the POA used for mapping out args and
          return values.

        * tests/genericEvaluator/basic_collocate/client.cpp:
        * tests/genericEvaluator/basic_collocate/run_test.pl:
        * tests/genericEvaluator/basic_collocate/test.conf:
        * tests/genericEvaluator/basic_collocate/test.idl:
        * tests/genericEvaluator/basic_collocate/test_i.h:
        * tests/genericEvaluator/basic_collocate/test_i.cpp:

          Extended the test to include passing an IOR in an out argument.

Fri Nov  2 23:23:07 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/OCI/OperationTable.cpp (add_interface):

          For each new interface, iterate over the list of attributes
          adding _get_<name> methods for each and _set_<name> methods for
          any non-readonly attributes.

Thu Nov  1 00:48:53 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/ProxyReplyHandler.cpp:

          Swap the sense of the mapped ior generated for forwarded
          references. The ProxyReplyHandler was mapping relative to the
          inside peer's perspective, but it needs to be from the outside
          peer's perspective.

Fri Oct 26 01:57:45 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/ProxyReplyHandler.cpp:

          Uncomment pending location handler hook and clean up development
          debug output.

        * tests/genericEvaluator/forward/run_test.pl:
        * tests/genericEvaluator/forward/test.conf:

          Clean up the test run to output directly to console.

Mon Oct 22 03:50:17 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/OCI/ProxyReplyHandler.h:
        * src/OCI/ProxyReplyHandler.cpp:
        * src/OCI/ProxyServant.cpp:

        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyReplyHandler.h:
        * src/lorica/ProxyReplyHandler.cpp:
        * src/lorica/ProxyServant.cpp:

          Fixed memory leaks related to the AMH_DSI_Reply_Handler code.
          This was highlighted in DOC bugzilla entry 3093.

          Also added all the support functionality necessary for mapping
          and forwarding Location Forward exceptions. The functionality is
          currently disabled pending additional code changes to the TAO
          Messaging and DynamicInterface libraries.

        * tests/genericEvaluator/forward:

          Added a new test for validating the Location Forward exception
          handling feature, once it is finally activated.

Tue Sep 18 21:40:42 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/proxy/main.cpp:

          Removed windows-specific code that tested a prototype extension
          to the ACE wrapper around NT Service functions. This code should
          never have been committed, and has no operational effect.

Wed Sep 12 16:50:50 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/RMVByNative.cpp:

          Fix for the secureInvocation test, the object reference used as
          the map key value was not being incremented properly.

Sat Sep  8 00:47:22 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/MapperRegistry.h:
        * src/lorica/MapperRegistry.cpp:
        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyMapper.cpp:

          Added code to satisfy the new requirements of the mixed security
          model. The TAO AccessDecision object requires explicit orb, poa
          and object id values, so new accessors were necessary.

        * src/proxy/ReferenceMapper_i.h:
        * src/proxy/ReferenceMapper_i.cpp:
        * src/proxy/proxy.cpp:

          Enabled the use of mixed security to selectively register as an
          open or a secure server.

        * tests/secureInvocation/run_test.pl:
        * tests/secureInvocation/server.cpp:
        * tests/secureInvocation/test.conf:

          Updates on the path to restoring this test.

Fri Aug 24 20:35:15 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/GenericEvaluator.cpp:
          Now that TAO 1.5.10+ properly supports inout on objref sequence
          elements the code requiring that support may be enabled.

        * src/lorica/Config.h:
        * src/lorica/Config.cpp:
        * src/lorica/IFRService.h:
        * src/lorica/IFRService.cpp:
          Made the collocation of IFRService optional. This way Lorica can
          be deployed in an environment with a separate IFR.

        * src/lorica/ProxyMapper.cpp:
        * src/lorica/EvaluatorBase.cpp:
        * src/lorica/ProxyReplyHandler.cpp:
          Cleaned up debug output, removed commented-out code, added
          exception support to the base evaluator.

        * tests/exception/test.conf:
          Commented out the -ORBDebuglevel option

        * tests/fileConfig/fileConfig.mpc:
        * tests/genericEvaluator/basic/run_test.pl:
        * tests/genericEvaluator/basic/server.cpp:
        * tests/genericEvaluator/basic/test.conf:
        * tests/genericEvaluator/basic_collocate/test.conf:
        * tests/genericEvaluator/callback/test.conf:
        * tests/genericEvaluator/persistence_ifr/test.conf:
        * tests/mapForServer/test.conf:
          Cleaned up the configuration options related to the IFR and
          collocation so that the tests continue to run properly.

Thu May 17 19:12:58 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/OCI/OperationTable.cpp:

        * src/lorica/Config.h:
        * src/lorica/Config.cpp:
        * src/lorica/GenericEvaluator.cpp:
        * src/lorica/GenericMapper.cpp:
        * src/lorica/IFRService.cpp:
        * src/lorica/MapperRegistry.h:
        * src/lorica/MapperRegistry.cpp:
        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyMapper.cpp:
        * src/lorica/ProxyServant.cpp:
        * src/lorica/RMVByNative.cpp:
        * src/lorica/ReferenceMapValue.cpp:
        * src/lorica/ServerAgent_impl.cpp:

        * src/proxy/ReferenceMapper_i.h:
        * src/proxy/ReferenceMapper_i.cpp:
        * src/proxy/main.cpp:
        * src/proxy/ntsvc.cpp:
        * src/proxy/proxy.cpp:
        * src/proxy/proxy.mpc:

          Added fixes to support secure forwarded invocations when the
          native reference supports secure connections.

        * tests/secureBridge:
          New test for insecure client & server communication bridged by
          two Lorica proxies using a secure connection.

        * tests/secureInvocation/client.conf:
          Fixed typo in config file.

Wed May 16 21:08:58 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/proxy/ntsvc.h:
        * src/proxy/ntsvc.cpp:
          Supplimental fix to make it actually compile on windoze.

Wed May 16 20:41:27 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/proxy/main.cpp:
        * src/proxy/ntsvc.h:
        * src/proxy/ntsvc.cpp:
        * src/proxy/proxy.h:
        * src/proxy/proxy.cpp:
          Changes necessary to support execution as an NT service.

        * src/proxy/ReferenceMapper_i.cpp:
        * src/proxy/ReferenceMapper_i.h:
          Temporarily wrap references to the AccessDecision object so that
          code can be built on hosts using older TAO.

Tue May 15 10:21:49 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/proxy/main.cpp:
          Freshen up the code used to initalize the NT service.

Mon May 14 19:01:44 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/Config.cpp:
        * src/lorica/GenericEvaluator.cpp:
          Clean up previously commented out sections of code.

        * src/lorica/ProxyMapper.cpp:
          Framing out mixed security support.

        * src/lorica/RMVByNative.cpp:
          Fix error in reference matching logic.

        * src/lorica/lorica_EvaluatorBase.mpc:
          Add TAO security base project.

        * src/proxy/ReferenceMapper_i.h:
        * src/proxy/ReferenceMapper_i.cpp:
          Add hooks for allowing mixed security levels, either SSL
          required or not, and for efficiently testing if SSLIOP is linked
          to the runtime executable.

        * src/proxy/main.cpp:
        * src/proxy/proxy.h:
        * src/proxy/proxy.cpp:
          Added support for daemonizing on a unix platform.

        * tests/genericEvaluator/server_agent/ServerAgent_i.h:
        * tests/genericEvaluator/server_agent/ServerAgent_i.cpp:
        * tests/genericEvaluator/server_agent/server.cpp:
        * tests/genericEvaluator/server_agent/test_i.h:
        * tests/genericEvaluator/server_agent/test_i.cpp:

          Enhanced the server agent test to include removing a registered
          server reference.

        * tests/secureInvocation:

          Added a new test for validating secure invocations. This
          involves two scenarios, one with the proxy using a secure
          connection to the native server with an insecure client. The
          second being a client using a secure reference through the proxy
          for an otherwise insecure native reference.

Fri May  4 16:12:11 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/GenericEvaluator.h:
        * src/lorica/GenericMapper.cpp:
        * src/lorica/MapperRegistry.cpp:
        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyMapper.cpp:
        * src/lorica/RMVByNative.h:
        * src/lorica/RMVByNative.cpp:
        * src/lorica/ReferenceMapValue.h:
        * src/lorica/ReferenceMapValue.cpp:
        * src/lorica/ReferenceMapper.idl:

          Refactored the idl to provide an exception if a secure service
          registration is desired but the proxy does not support secure
          connections.  Also had to replace the use of stringified object
          references with binary object references as key values in the
          RequestMapperValue tables as the stringified references cannot
          be reliably compared. Finally, added redundency checking on
          values introduced for mapping. This ensures that if a previously
          mapped value is passed through the proxy as a data member it is
          not remapped.

        * src/proxy/ReferenceMapper_i.h:
        * src/proxy/ReferenceMapper_i.cpp:
        * src/proxy/main.cpp:
        * src/proxy/proxy.cpp:
        * src/proxy/proxy.mpc:

          Added implementation details for selective security support and
          revision to Reference Mapper implemetation. Finally, there is a
          temporary change to ensure the proper initializtion of the
          dynamically loaded mapper registry. For this to work, the ORB
          must have the default name.

        * tests/exception/run_test.pl:
        * tests/exception/test.conf:
        * tests/genericEvaluator/basic/server.cpp:
        * tests/genericEvaluator/basic/test.conf:
        * tests/genericEvaluator/basic_collocate/server.cpp:
        * tests/genericEvaluator/callback/server.cpp:
        * tests/genericEvaluator/logging/server.cpp:
        * tests/genericEvaluator/persistence_ifr/server.cpp:
        * tests/genericEvaluator/persistence_ifr/test.conf:
        * tests/genericEvaluator/server_agent/server.cpp:
        * tests/mapForServer/run_test.pl:
        * tests/mapForServer/server.cpp:

          Tests updated to address change in ReferenceMapper.idl and to
          modify debug status during the run.

Tue Apr 10 15:12:41 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/MapperRegistry.h:
        * src/lorica/MapperRegistry.cpp:

          Force the initialization of the MapperRegistry.

Fri Apr  6 16:37:59 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * tests/genericEvaluator/persistence_ifr/run_test.pl:

          removed unnessassary process creation.

        * tests/lorica_tests.lst:

          Added a test list so that we can run
          'auto_run_test.pl -l lorica_tests.lst'

Fri Apr  6 15:56:53 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * tests/genericEvaluator/logging/client.cpp:

          Added a header file for using sleep function.

Fri Apr  6 15:21:22 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/ServerAgent_impl.h:
        * src/lorica/ServerAgent_impl.cpp:
        * src/lorica/lorica_Client.mpc:

          Provided a default servant implementation for the ServerAgent.

Fri Apr  6 15:03:30 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/Config.cpp:
        * src/lorica/IFRService.cpp:
        * src/proxy/ReferenceMapper_i.cpp:
        * src/proxy/main.cpp:
        * src/proxy/ntsvc.cpp:
        * src/proxy/proxy.cpp:

          More files used Lorica_debug_level.

        * tests/genericEvaluator/basic_collocate/run_test.pl:

          Used the new -l option to control the debug printout level.

Thu Apr  5 22:33:43 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/GenericEvaluator.cpp:
        * src/lorica/MapperRegistry.cpp:
        * src/lorica/ProxyMapper.cpp:
        * src/lorica/ProxyReplyHandler.cpp:
        * src/lorica/ProxyServant.cpp:

          Used Lorica_debug_level.

        * src/lorica/debug.h:
        * src/lorica/debug.cpp:
        * src/lorica/lorica_Client.mpc:

          Added Lorica_debug_level.

Thu Apr  5 20:07:27 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyMapper.cpp:
        * src/lorica/ProxyServant.cpp:

          Got access to server agent. Reported error back.

        * tests/genericEvaluator/logging/test.conf:

          Changed to use ORBSvcConfDirective option.

        * tests/genericEvaluator/logging/svc.conf:

          Removed this file.

Thu Apr  5 17:27:06 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/ServerAgent.idl:

          Changed the disconnect method to oneway.

        * tests/genericEvaluator/logging:
        * tests/genericEvaluator/logging/ServerAgent_i.h:
        * tests/genericEvaluator/logging/ServerAgent_i.cpp:
        * tests/genericEvaluator/logging/client.cpp:
        * tests/genericEvaluator/logging/logging.mpc:
        * tests/genericEvaluator/logging/run_test.pl:
        * tests/genericEvaluator/logging/server.cpp:
        * tests/genericEvaluator/logging/svc.conf:
        * tests/genericEvaluator/logging/test.conf:
        * tests/genericEvaluator/logging/test.idl:
        * tests/genericEvaluator/logging/test_i.h:
        * tests/genericEvaluator/logging/test_i.cpp:

          Added a new test for logging.

        * tests/genericEvaluator/server_agent/test.conf:

          Added the missing file.

Thu Apr  5 04:06:10 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * tests/genericEvaluator/server_agent:
        * tests/genericEvaluator/server_agent/ServerAgent_i.h:
        * tests/genericEvaluator/server_agent/ServerAgent_i.cpp:
        * tests/genericEvaluator/server_agent/client.cpp:
        * tests/genericEvaluator/server_agent/run_test.pl:
        * tests/genericEvaluator/server_agent/server.cpp:
        * tests/genericEvaluator/server_agent/server_agent.mpc:
        * tests/genericEvaluator/server_agent/test.idl:
        * tests/genericEvaluator/server_agent/test_i.h:
        * tests/genericEvaluator/server_agent/test_i.cpp:

          Added a new test for ServerAgent.

Wed Apr  4 23:53:13 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * tests/genericEvaluator/basic_collocate/test.conf:

          Removed the -p (persistence) option.

        * tests/genericEvaluator/persistence_ifr/run_test.pl:
        * tests/genericEvaluator/persistence_ifr/test.conf:

          Make the test simulate the persistence scenanio.

Wed Apr  4 12:49:50 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/EvaluatorBase.h:
        * src/lorica/EvaluatorBase.cpp:
        * src/lorica/GenericEvaluator.h:
        * src/lorica/GenericEvaluator.cpp:
        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyMapper.cpp:
        * src/lorica/ProxyReplyHandler.cpp:
        * src/lorica/ProxyServant.cpp:
        * src/lorica/RMVByMapped.h:
        * src/lorica/RMVByMapped.cpp:
        * src/lorica/RMVByNative.h:
        * src/lorica/RMVByNative.cpp:
        * src/lorica/ReferenceMapValue.h:
        * src/lorica/ReferenceMapValue.cpp:
        * src/lorica/lorica_EvaluatorBase.mpc:

          Refactored the code base to modify the relationship between the
          Proxy Servant, the Mapper and the Evaluator. Also extended the
          mapper and evaluator to support detection of previously mapped
          references to avoid multiple mappings. Modified the generic
          mapper and evaluator so that the mapper owns the object table
          rather than the evaluator.

        * tests/genericEvaluator/persistence_ifr/run_test.pl:
        * tests/genericEvaluator/persistence_ifr/test.conf:

          The run_test.pl tried to load the wrong ifr.ior file.

Mon Apr  2 21:25:47 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * tests/exception/exception.mpc:

          Correct the APT tools name.

Mon Apr  2 21:22:35 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * tests/fileConfig/main.cpp:

          Fixed main with arguments.

Mon Apr  2 21:13:53 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/Config.h:
        * tests/fileConfig/main.cpp:

          Nested classes/structs need to be exported individually.

Mon Apr  2 19:37:31 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * docs/Lorica_Dev_Guide.odt:

          Added the IFR_CmdOption documentation.

Mon Apr  2 18:08:05 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/Config.cpp:
        * src/lorica/FileConfig.cpp:
        * tests/genericEvaluator/basic_collocate/test.conf:

          Removed some debugging messages.

Mon Apr  2 16:13:33 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * tests/genericEvaluator/persistence_ifr:
        * tests/genericEvaluator/persistence_ifr/client.cpp:
        * tests/genericEvaluator/persistence_ifr/persistence_ifr.mpc:
        * tests/genericEvaluator/persistence_ifr/run_test.pl:
        * tests/genericEvaluator/persistence_ifr/server.cpp:
        * tests/genericEvaluator/persistence_ifr/test.conf:
        * tests/genericEvaluator/persistence_ifr/test.idl:
        * tests/genericEvaluator/persistence_ifr/test_i.h:
        * tests/genericEvaluator/persistence_ifr/test_i.cpp:

          Added a new test for persistence.

Mon Apr  2 16:02:02 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/IFRService.cpp:

          Make the command line option for collocated IFRService
          configurable.

Mon Apr  2 15:15:23 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/Config.h:
        * src/lorica/Config.cpp:
        * src/lorica/EvaluatorBase.cpp:
        * src/lorica/FileConfig.h:
        * src/lorica/FileConfig.cpp:
        * src/lorica/IFRService.cpp:
        * src/lorica/ProxyMapper.cpp:
        * src/proxy/main.cpp:
        * src/proxy/proxy.cpp:
        * tests/fileConfig/main.cpp:

          Changes related to refactoring FileConfig to be a singleton.

Thu Mar 29 21:46:00 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/OCI/OperationTable.h:
        * src/OCI/OperationTable.cpp:

          Minor text refactoring.

        * src/lorica/EvaluatorBase.h:
        * src/lorica/EvaluatorBase.cpp:
        * src/lorica/GenericEvaluator.h:
        * src/lorica/GenericEvaluator.cpp:
        * src/lorica/GenericMapper.h:
        * src/lorica/GenericMapper.cpp:
        * src/lorica/IFRService.h:
        * src/lorica/IFRService.cpp:
        * src/lorica/ProxyMapper.cpp:
        * src/lorica/ProxyServant.cpp:

          Refactored the relationship between the IFR, the Generic
          Evaluator and the Generic Mapper. The Generic Evaluator has
          become more lightweight, with the mapper holding the reference
          to the IFR and the Operation Table. The evaluator may become
          lighter still perhaps becoming a reference counted entity which
          the generic mapper could create on the fly and let the proxy
          servant and reply handler use and discard as needed.

        * tests/genericEvaluator/basic_collocate/test.conf:

          Minor reordering of ORB option values.

Wed Mar 28 18:32:51 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/Config.h:
        * src/lorica/FileConfig.h:
        * src/lorica/FileConfig.cpp:
        * src/lorica/ProxyMapper.cpp:

        * src/proxy/main.cpp:
        * src/proxy/proxy.cpp:

        * tests/fileConfig/fileConfig.mpc:
        * tests/fileConfig/main.cpp:

          Made FileConfig a singleton.

Wed Mar 28 16:36:09 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/ProxyMapper.cpp:
        * src/lorica/ReferenceMapValue.h:
        * src/lorica/ReferenceMapValue.cpp:

          Add more implementation to enable the proper removal of mapped
          references.

        * src/proxy/ReferenceMapper_i.cpp:

          Clean up the IORMapper interaction so that a remap attempt
          doesn't fail and a removed server is properly unmapped.

        * tests/mapForServer/Hello.h:
        * tests/mapForServer/Hello.cpp:
        * tests/mapForServer/run_test.pl:
        * tests/mapForServer/server.cpp:
        * tests/mapForServer/test.conf:

          Modified the test to support optional lingering of the server to
          enable either a quick test of mapping or having a client
          connect. In order to support the proper removal of the mapped
          reference on exit, a gneneric shutdown method is defined which
          is called by the servant rather than having it call
          ORB->shutdown directly.

Wed Mar 28 15:06:08 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/Config.h:
        * src/lorica/Config.cpp:
        * src/lorica/FileConfig.h:
        * src/lorica/FileConfig.cpp:

        * src/lorica/lorica_EvaluatorBase.mpc:
        * src/lorica/lorica_GenericEvaluator.mpc:

        * src/proxy/main.cpp:
        * src/proxy/proxy.cpp:
        * src/proxy/proxy.mpc:

          Moved the config module from proxy to lorica dir
          so that Generic Evaluator can use it.


        * src/proxy/Config.h:
        * src/proxy/Config.cpp:
        * src/proxy/FileConfig.h:
        * src/proxy/FileConfig.cpp:

          Removed these files.

Tue Mar 27 22:19:17 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/GenericEvaluator.cpp:
        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyMapper.cpp:
        * src/lorica/ReferenceMapValue.h:
        * src/lorica/ReferenceMapValue.cpp:

          Added basic support for a map used to manage native and mapped
          object references. This enables the ability to report errors
          related to known references if a server agent is mapped, as well
          as the means to clean up the IORTable if a reference is removed.

        * tests/mapForServer/server.cpp:
        * tests/mapForServer/test.conf:

          Modified the test a bit to validate the mapper table enhancement
          works.

Mon Mar 26 21:27:22 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/GenericEvaluator.h:
        * src/lorica/GenericEvaluator.cpp:
        * src/lorica/GenericMapper.h:
        * src/lorica/GenericMapper.cpp:

          Fix up the initialization code to actually create an instance of
          the generic evaluator during Generic mapper initialization.

Mon Mar 26 20:51:40 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/GenericEvaluator.h:
        * src/lorica/GenericEvaluator.cpp:
        * src/lorica/IFRService.h:
        * src/lorica/IFRService.cpp:
        * src/lorica/lorica_GenericEvaluator.mpc:
        * src/proxy/proxy.cpp:
        * src/proxy/proxy.mpc:
        * tests/genericEvaluator/basic_collocate/run_test.pl:

          Moved IFR collocation from proxy to lorica generic evaluator.

        * src/proxy/IFRService.h:
        * src/proxy/IFRService.cpp:

          Removed these files.

Mon Mar 26 17:59:04 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * tests/genericEvaluator/basic_collocate:
        * tests/genericEvaluator/basic_collocate/basic_collocate.mpc:
        * tests/genericEvaluator/basic_collocate/client.cpp:
        * tests/genericEvaluator/basic_collocate/run_test.pl:
        * tests/genericEvaluator/basic_collocate/server.cpp:
        * tests/genericEvaluator/basic_collocate/test.conf:
        * tests/genericEvaluator/basic_collocate/test.idl:
        * tests/genericEvaluator/basic_collocate/test_i.h:
        * tests/genericEvaluator/basic_collocate/test_i.cpp:

          Added a new test for IFR collocated with Lorica proxy.

Mon Mar 26 17:42:48 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/proxy/IFRService.h:
        * src/proxy/IFRService.cpp:
        * src/proxy/proxy.cpp:
        * src/proxy/proxy.mpc:

          Collocate IFR Service with lorica executable.

Mon Mar 26 14:11:07 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * tests/genericEvaluator/callback/Server_Task.cpp:
        * tests/genericEvaluator/callback/run_test.pl:

          Modified the duration of the test. This test is passing.

Fri Mar 23 22:23:58 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * tests/genericEvaluator/callback:
        * tests/genericEvaluator/callback/Client_Task.h:
        * tests/genericEvaluator/callback/Client_Task.cpp:
        * tests/genericEvaluator/callback/Receiver_i.h:
        * tests/genericEvaluator/callback/Receiver_i.cpp:
        * tests/genericEvaluator/callback/Sender_i.h:
        * tests/genericEvaluator/callback/Sender_i.cpp:
        * tests/genericEvaluator/callback/Server_Task.h:
        * tests/genericEvaluator/callback/Server_Task.cpp:
        * tests/genericEvaluator/callback/Test.idl:
        * tests/genericEvaluator/callback/callback.mpc:
        * tests/genericEvaluator/callback/client.cpp:
        * tests/genericEvaluator/callback/run_test.pl:
        * tests/genericEvaluator/callback/server.cpp:
        * tests/genericEvaluator/callback/test.conf:

          Added a new callback test for GenericEvaluator.

Fri Mar 23 20:11:42 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/GenericEvaluator.cpp:

          Print out an error msg when the bug in sequence implementation
          is encountered.

        * tests/genericEvaluator/basic/run_test.pl:
        * tests/genericEvaluator/basic/test.conf:

          Minor changes to make the test work.

Fri Mar 23 14:50:56 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/lorica_GenericEvaluator.mpc:

          Added dependency on TAO_DynamicAny

Fri Mar 23 19:06:42 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/OCI/README:

          Further adjustments to the license text.

        * src/lorica/GenericEvaluator.h:
        * src/lorica/GenericEvaluator.cpp:

          Moved the selection of the "other" POA from the low level
          proxify method to the high level evaluate_request method. This
          ensures that only references contained within requests to the
          server are mapped on the other POA. References contained within
          replies or exceptions are mapped to the POA that received the
          invocation.

        * src/proxy/proxy.cpp:

          Fixed typo in GenericEvaluator library name.

Fri Mar 23 18:50:15 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/GenericEvaluator.cpp:

          Added a missing destructure.

        * tests/genericEvaluator/basic/run_test.pl:

          Added more stuff.

Fri Mar 23 14:41:07 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * tests/genericEvaluator/basic/run_test.pl:
        * tests/genericEvaluator/basic/test.conf:

          Added this auto test script and a conf file.

Thu Mar 22 22:10:45 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * tests/genericEvaluator:
        * tests/genericEvaluator/basic:
        * tests/genericEvaluator/basic/basic.mpc:
        * tests/genericEvaluator/basic/client.cpp:
        * tests/genericEvaluator/basic/server.cpp:
        * tests/genericEvaluator/basic/test.idl:
        * tests/genericEvaluator/basic/test_i.h:
        * tests/genericEvaluator/basic/test_i.cpp:

          Added a new test for GenericEvaluator. This test is
          not complete yet.

Thu Mar 22 22:02:09 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * tests/mapForClient/mapForClient.mpc:

          Used the correct lib name.

Thu Mar 22 15:27:57 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/GenericEvaluator.cpp:

          commented out one line of code which is causing compilation error.
          The GenericEvaluator is compiled without that line of code.

Thu Mar 22 14:59:23 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/GenericEvaluator.h:
        * src/lorica/GenericEvaluator.cpp:
        * src/lorica/lorica_GenericEvaluator.mpc:

          Added more code.

Wed Mar 21 21:21:32 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/EvaluatorBase.h:
        * src/lorica/EvaluatorBase.cpp:
        * src/lorica/GenericEvaluator.h:
        * src/lorica/GenericEvaluator.cpp:
        * src/lorica/ProxyServant.cpp:

          Added ProxyServant as a parameter for evaluate_request ().

        * tests/mapForServer/mapForServer.mpc:

          Added loricacommon.

Wed Mar 21 21:13:08 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/GenericLoader.cpp:
        * src/lorica/GenericMapper.h:
        * src/lorica/GenericMapper.cpp:
        * src/lorica/NullProxyMapper.h:
        * src/lorica/NullProxyMapper.cpp:
        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyMapper.cpp:
        * src/lorica/ProxyServant.cpp:
        * src/lorica/lorica_GenericEvaluator.mpc:

          Propagate the const change necessary to allow the proxy servant
          to use the evaluator base a non-const when calling
          evaluate_request. This is necessary since the evaluate_request
          operation may trigger an update to the internal state of
          specialized evaluators.

        * src/proxy/proxy.cpp:

          Added code to look up and initialize the generic evaluator as
          configured.


Wed Mar 21 19:42:45 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/OCI/README:

          Corrected the Id keyword.

        * src/lorica/EvaluatorBase.h:
        * src/lorica/EvaluatorBase.cpp:

          Removed the constness for method evaluate_request
          because it needs to modify the optable_ member.

        * src/lorica/GenericEvaluator.h:
        * src/lorica/GenericEvaluator.cpp:

          Added more implementation.

Wed Mar 21 18:59:10 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * docs/Milestones.odt:

          Updated document to reflect current project status.

        * src/OCI/README:

          A document serving as the foundation for a copyright / license
          statement for OCI controlled open-source code.

        * src/lorica/EvaluatorLoader.h:
        * src/lorica/EvaluatorLoader.cpp:
        * src/lorica/GenericEvaluator_Export.h:
        * src/lorica/GenericLoader.h:
        * src/lorica/GenericLoader.cpp:
        * src/lorica/lorica_GenericEvaluator.mpc:

          Additional functionality used to dynamically load a generic
          proxy mapper and evaluator.

Wed Mar 21 18:04:53 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/GenericMapper.h:
        * src/lorica/GenericMapper.cpp:

          Added the implementation for GenericMapper.

Wed Mar 21 17:59:00 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/GenericEvaluator.h:
        * src/lorica/GenericEvaluator.cpp:

          More implementation checked in.

Tue Mar 20 17:31:14 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * docs/Lorica_Dev_Guide.odt:
        * docs/Lorica_Model.zip:

          Completed a first round of documentation, and further model
          enhancements.


Tue Mar 20 21:38:08 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/EvaluatorBase.h:

          Moved the mapper_ to protected section so that all the subclasses
          can use it.

        * src/lorica/GenericEvaluator.h:
        * src/lorica/GenericEvaluator.cpp:

          Saving partially finished code before I lose it.

Mon Mar 19 22:34:35 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * docs/Lorica_Model.mdzip:
          Model updates

        * src/proxy/Config.h:
        * src/proxy/Config.cpp:
        * src/proxy/FileConfig.cpp:
        * src/proxy/proxy.cpp:

        * tests/exception/test.conf:

        * tests/fileConfig/main.cpp:
        * tests/fileConfig/test.conf:

        * tests/mapForClient/test.conf:

        * tests/mapForServer/test.conf:

          Reworked the config loading code, renamed some of the config
          value names to be easier to understand (IMO).

Mon Mar 19 13:36:51 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/OCI/AsynchProxyTools.mpc:
        * src/OCI/AsynchProxyTools_Export.h:
        * src/OCI/OperationTable.h:
        * src/OCI/OperationTable.cpp:
        * src/OCI/ProxyReplyHandler.h:
        * src/OCI/ProxyReplyHandler.cpp:
        * src/OCI/ProxyServant.h:
        * src/OCI/ProxyServant.cpp:

        * src/OCI/AsynchProxyTools/AsynchProxyTools_Export.h:
        * src/OCI/AsynchProxyTools/OperationTable.h:
        * src/OCI/AsynchProxyTools/OperationTable.cpp:
        * src/OCI/AsynchProxyTools/ProxyReplyHandler.h:
        * src/OCI/AsynchProxyTools/ProxyReplyHandler.cpp:
        * src/OCI/AsynchProxyTools/ProxyServant.h:
        * src/OCI/AsynchProxyTools/ProxyServant.cpp:

          Relocated the OCI-contributed source files into the OCI
          directory. There is no need for a nested directory, at least at
          this time. Also renamed the types to be under the OCI_APT namespace.

        * src/lorica/ProxyReplyHandler.h:
        * src/lorica/ProxyServant.h:

          Renamed the base class as needed to apply APT changes.

Mon Mar 19 01:34:58 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/EvaluatorBase.h:
        * src/lorica/EvaluatorBase.cpp:
        * src/lorica/ProxyReplyHandler.cpp:
        * src/lorica/NullProxyMapper.cpp:

          Added mapping for exceptions and cleaned up development output

        * tests/exception:
          A new test for passing exceptions through the proxy.

        * tests/mapForClient/client.cpp:
        * tests/mapForClient/Hello.mpc:
        * tests/mapForClient/mapForClient.mpc:
        * tests/mapForClient/run_test.pl:

          Add support for getting $LoricaIOR environment variable to
          locate the proxy's ReferenceMapper interface. Also renamed the
          MPC file from Hello to mapForClient.

        * tests/mapForServer/client.cpp:
        * tests/mapForServer/mapForServer.mpc:
        * tests/mapForServer/run_test.pl:
        * tests/mapForServer/server.cpp:
        * tests/mapForServer/test.conf:

          Added a test client to do an end-to-end test using a server-side
          mapped IOR.

Fri Mar 16 20:54:18 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyMapper.cpp:
        * src/lorica/ProxyServant.h:
        * src/lorica/ProxyServant.cpp:
        * src/lorica/MapperRegistry.cpp:

          Add support for getting an evaluator based on the incoming
          object reference as well as a specific type, and cleaned some
          redundant debug output. Fixed the determination of oneway calls.

        * tests/mapForClient/test.conf:

          Use specific type ids with the null proxy mapper rather than the
          default case.

Fri Mar 16 22:01:34 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/proxy/proxy.mpc:

          Added the install path.

        * tests/mapForClient/run_test.pl:

          Put the proxy in the auto test.

Fri Mar 16 19:57:36 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * tests/mapForClient/Hello.mpc:
        * tests/mapForClient/client.cpp:
        * tests/mapForClient/test.conf:

          modified the hostname to run the proxy on localhost

Fri Mar 16 19:32:07 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/ProxyReplyHandler.cpp:
        * src/lorica/ProxyServant.cpp:

          Added and reordered header to pass compilation errors.

Fri Mar 16 17:28:53 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/ProxyServant.cpp:
          Added error handling for failure to find an evaluator or an
          operation name.

        * src/proxy/proxy.cpp:
          Implemented the initialization of the null proxy with specific
          type ids.

Fri Mar 16 16:09:20 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/ProxyReplyHandler.h:

          Added missing <string> include.

Fri Mar 16 15:23:17 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/OCI/AsynchProxyTools/ProxyReplyHandler.h:
        * src/OCI/AsynchProxyTools/ProxyReplyHandler.cpp:
        * src/OCI/AsynchProxyTools/ProxyServant.h:
        * src/OCI/AsynchProxyTools/ProxyServant.cpp:

          Added necessary base code to pass the appropriate information up
          to the derived classes.

        * src/lorica/EvaluatorBase.h:
        * src/lorica/EvaluatorBase.cpp:
        * src/lorica/NullProxyMapper.h:
        * src/lorica/NullProxyMapper.cpp:
        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyMapper.cpp:
        * src/lorica/ProxyReplyHandler.h:
        * src/lorica/ProxyReplyHandler.cpp:
        * src/lorica/ProxyServant.h:
        * src/lorica/ProxyServant.cpp:
        * src/lorica/lorica_EvaluatorBase.mpc:

          Added more implementation necessary to actually do an end-to-end
          test through the null proxy mapper.

        * src/proxy/Config.h:
        * src/proxy/Config.cpp:
        * src/proxy/proxy.cpp:
        * src/proxy/proxy.mpc:

          Fix problems related to IPV6 parsing and Endpoint policy
          construction.

        * tests/mapForClient/Hello.mpc:
        * tests/mapForClient/client.cpp:
        * tests/mapForClient/test.conf:

          Get the test case working.

Fri Mar 16 14:29:57 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/OCI/AsynchProxyTools.mpc:

          Added ifr_client mpc base project.

Thu Mar 15 00:44:22 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/proxy/proxy.cpp:

          Clean up code for preparing the Endpoint policies.

Thu Mar 15 22:27:29 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/OCI/AsynchProxyTools/OperationTable.cpp:

          Fixed a compilation error.

Thu Mar 15 20:55:25 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/loricacommon.mpb:

          Add the lorica lib directory to the libpaths.

        * src/OCI/AsynchProxyTools.mpc:
        * src/OCI/AsynchProxyTools/AsynchProxyTools_Export.h:
        * src/OCI/AsynchProxyTools/ProxyReplyHandler.h:
        * src/OCI/AsynchProxyTools/ProxyServant.h:

          Clean up Export Macro differences.

Thu Mar 15 21:05:58 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/OCI/AsynchProxyTools.mpc:
        * src/OCI/AsynchProxyTools/OperationTable.h:
        * src/OCI/AsynchProxyTools/OperationTable.cpp:

          Added the OperationTable classes inside the
          OCI_APT namespace.

Thu Mar 15 20:34:03 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/OCI/AsynchProxyTools.mpc:
        * src/lorica/lorica_EvaluatorBase.mpc:
        * src/proxy/proxy.mpc:

          lib name changes.

        * src/lorica/ProxyServant.cpp:

          Removed a redunant header inclusion.

Thu Mar 15 19:18:20 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/lorica_Client.mpc:
        * src/lorica/lorica_EvaluatorBase.mpc:
        * src/lorica/lorica_Impl.mpc:
        * src/loricacommon.mpb:

          Refactored the library layout to eliminate circular
          dependencies. The liblorica_Impl was eliminated as it
          was the source of the circularity. Moved the include
          path to the common base project.

        * src/lorica/EvaluatorLoader.cpp:
        * src/lorica/MapperRegistry.cpp:
        * src/lorica/MapperRegistry.h:
        * src/lorica/NullProxyMapper.h:
        * src/lorica/ProxyServant.cpp:
        * src/lorica/ProxyServant.h:
        * src/lorica/ReferenceMapValue.h:

          Fixed the export macros to be consistent with the new
          library membership.

        * src/OCI/AsynchProxyTools.mpc:

          Add required base projects.

        * src/proxy/main.cpp:
        * src/proxy/proxy.h:

          Fix compilation errors.

        * src/proxy/proxy.mpc:

          add common base project.



Wed Mar 14 21:28:15 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/lorica/ProxyServant.cpp:

          Proxyservant.h need to be included as the last header
          in order to compile successfully on gcc 4.1.

        * src/lorica/lorica_Client.mpc:
        * src/lorica/lorica_EvaluatorBase.mpc:
        * src/lorica/lorica_Impl.mpc:
        * src/loricacommon.mpb:

          Added an MPC base project.
          Note: you either need to specify the include path in
          the mwc.pl command line, or you can put the path in
          $ACE_ROOT/bin/MakeProjectCreator/config/MPC.cfg file.

Wed Mar 14 20:41:15 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/lorica_Client.mpc:
        * src/lorica/lorica_EvaluatorBase.mpc:
        * src/lorica/lorica_Impl.mpc:

          Fixes to properly support windows.

Wed Mar 14 19:17:29 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * docs/Lorica_Model.mdzip:
          Updated model to reflect current design direction.

        * src/lorica/EvaluatorLoader.h:
        * src/lorica/EvaluatorLoader.cpp:
          Added to support the loading of externally produced  evaluators.

        * src/lorica/MapperRegistry.h:
          Text reformat only.

        * src/lorica/lorica_Client.mpc:
        * src/lorica/lorica_EvaluatorBase.mpc:
        * src/lorica/lorica_Impl.mpc:
        * src/lorica/lorica.mpc:
          Split the lorica.mpc file into project-specific mpc files.


Wed Mar 14 11:14:51 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/MapperRegistry.h:
          Added export macro to static service declaration.

Wed Mar 14 11:02:43 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/lorica.mpc:

          Added proper dynamic flags for building with export macros.

Wed Mar 14 13:54:33 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/OCI/AsynchProxyTools.mpc:
        * src/OCI/AsynchProxyTools/ProxyReplyHandler.cpp:
        * src/OCI/AsynchProxyTools/ProxyServant.h:
        * src/OCI/AsynchProxyTools/ProxyServant.cpp:

          Fix compiler errors.


        * src/lorica/MapperRegistry.cpp:
        * src/lorica/NullProxyMapper.cpp:
        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyMapper.cpp:
        * src/proxy/ReferenceMapper_i.h:
        * src/proxy/ReferenceMapper_i.cpp:
        * src/proxy/main.cpp:
        * src/proxy/proxy.h:
        * src/proxy/proxy.cpp:

          Add implementation necessary to avoid runtime errors and provide
          milestone 1 level of support.

        * tests/fileConfig/main.cpp:

          Fix the default null proxy id for testing.

        * tests/mapForServer/run_test.pl:
        * tests/mapForServer/server.cpp:
        * tests/mapForServer/test.conf:

          Get the test running.

Mon Mar 12 01:11:16 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/OCI/AsynchProxyTools/ProxyReplyHandler.h:
        * src/OCI/AsynchProxyTools/ProxyServant.h:
        * src/lorica/ProxyReplyHandler.h:
        * src/lorica/ProxyServant.h:

          Subsequent change due to lib src movement below.

Mon Mar 12 00:44:47 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/OCI:
        * src/OCI/AsynchProxyTools:
        * src/OCI/AsynchProxyTools/AsynchProxyTools_Export.h:
        * src/OCI/AsynchProxyTools/OperationTable.h:
        * src/OCI/AsynchProxyTools/OperationTable.cpp:
        * src/OCI/AsynchProxyTools/ProxyReplyHandler.h:
        * src/OCI/AsynchProxyTools/ProxyReplyHandler.cpp:
        * src/OCI/AsynchProxyTools/ProxyServant.h:
        * src/OCI/AsynchProxyTools/ProxyServant.cpp:

          Moved the library src from oci_rt9734 to here.
          From now on, we can work with doc head and abandon
          the oci_rt9734 branch.

Thu Mar  8 05:06:59 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/MapperRegistry.h:
        * src/lorica/MapperRegistry.cpp:
        * src/lorica/NullProxyMapper.h:
        * src/lorica/NullProxyMapper.cpp:
        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyMapper.cpp:

        * src/proxy/ReferenceMapper_i.h:
        * src/proxy/ReferenceMapper_i.cpp:
        * src/proxy/main.cpp:
        * src/proxy/proxy.cpp:

          Moved MapperRegistry class out of lorica namespace. This was
          necessary to use the ACE Service Configurator macros for
          initializing the registry instance.

        * src/proxy/Config.cpp:
        * src/proxy/FileConfig.cpp:

          Added a dummy 0'th element to the argv list so that ORB_init
          would properly handle the argument list.

        * tests/mapForServer/run_test.pl:
        * tests/mapForServer/server.cpp:

          Fixed up the run script to pass the correct command line to the
          proxy and fixed the currently hardwired corbaloc used to resolve
          the proxy's internal reference.

Mon Mar  5 02:45:58 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/lorica.mpc:
        * src/proxy/proxy.mpc:
          Fix build dependencies.

        * tests/fileConfig/test.conf:
          Fix typo in repository type ids.

        * tests/mapForClient:
        * tests/mapForClient/Hello.h:
        * tests/mapForClient/Hello.cpp:
        * tests/mapForClient/Hello.mpc:
        * tests/mapForClient/README:
        * tests/mapForClient/Test.idl:
        * tests/mapForClient/client.cpp:
        * tests/mapForClient/run_test.pl:
        * tests/mapForClient/server.cpp:
          New test for the as_client operation.

        * tests/mapForServer:
        * tests/mapForServer/Hello.h:
        * tests/mapForServer/Hello.cpp:
        * tests/mapForServer/README:
        * tests/mapForServer/Test.idl:
        * tests/mapForServer/mapForServer.mpc:
        * tests/mapForServer/run_test.pl:
        * tests/mapForServer/server.cpp:
          New test for the as_server operation.

Sat Mar  3 02:08:49 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/MapperRegistry.h:
        * src/lorica/MapperRegistry.cpp:
        * src/lorica/NullProxyMapper.cpp:
        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyMapper.cpp:

        * src/proxy/ReferenceMapper_i.h:
        * src/proxy/ReferenceMapper_i.cpp:
        * src/proxy/proxy.cpp:
        * src/proxy/proxy.mpc:

          Added more implementation, fixed compilation errors.

Fri Mar  2 18:18:51 UTC 2007  Ciju John  <johnc@ociweb.com>

        * src/proxy/ReferenceMapper_i.h:
          Fixed skel class name. Add initialization exception.

        * src/proxy/proxy.h:
        * src/proxy/proxy.cpp:
          Add a mechanism for asynchronous shutdown of the Proxy.

Thu Mar  1 21:13:48 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyMapper.cpp:
        * src/lorica/ReferenceMapValue.h:

        * src/proxy/ReferenceMapper_i.cpp:
        * src/proxy/proxy.mpc:

          Fixed the ReferenceMapValue to store references rather than
          strings. This is what I originally intended when I composed the
          type in the object model. Add more implementation to the
          ProxyMapper and fixed up proxy.mpc to refer to the correct
          library names.

        * src/proxy/proxy.cpp:

          My gcc doesn't like the thrown value to be wrapped in ().

Wed Feb 28 23:45:55 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/MapperRegistry.cpp:
        * src/lorica/NullProxyMapper.cpp:
        * src/lorica/lorica.mpc:

          Cleanup that should have been done before the previous commit.

Thu Mar  1 15:40:48 UTC 2007  Ciju John  <johnc@ociweb.com>

        * src/proxy/Config.h:
        * src/proxy/Config.cpp:
          Add additional accessors methods.

        * src/proxy/FileConfig.h:
        * src/proxy/FileConfig.cpp:
          Add debug flag. Other minor reworks.

        * src/proxy/main.cpp:
          Accept new command line debug option. Initialization of the
          config and proxy objects.

        * tests/fileConfig/main.cpp:
        * tests/fileConfig/test.conf:
          Enhanced the test.

Wed Feb 28 23:16:24 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/Client_Export.h:
        * src/lorica/EvaluatorBase.h:
        * src/lorica/EvaluatorBase.cpp:
        * src/lorica/EvaluatorBase_Export.h:
        * src/lorica/Impl_Export.h:
        * src/lorica/MapperRegistry.h:
        * src/lorica/MapperRegistry.cpp:
        * src/lorica/NullProxyMapper.h:
        * src/lorica/NullProxyMapper.cpp:
        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyMapper.cpp:
        * src/lorica/ProxyServant.h:
        * src/lorica/ReferenceMapValue.h:
        * src/lorica/ReferenceMapValue.cpp:
        * src/lorica/lorica.mpc:

        * src/proxy/ReferenceMapper_i.h:
        * src/proxy/ReferenceMapper_i.cpp:
        * src/proxy/proxy.mpc:

          Added Export macros and addtional implementation.


Wed Feb 28 18:23:01 UTC 2007  Ciju John  <johnc@ociweb.com>

        * src/proxy/Config.h:
        * src/proxy/Config.cpp:
        * src/proxy/proxy.h:
        * src/proxy/proxy.cpp:
          Minor fixes.

        * tests/fileConfig:
        * tests/fileConfig/fileConfig.mpc:
        * tests/fileConfig/main.cpp:
        * tests/fileConfig/test.conf:
          Add new test for File based configuration.

Tue Feb 27 23:00:07 UTC 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/EvaluatorBase.h:
        * src/lorica/EvaluatorBase.cpp:
        * src/lorica/MapperRegistry.h:
        * src/lorica/MapperRegistry.cpp:
        * src/lorica/NullProxyMapper.h:
        * src/lorica/ProxyMapper.h:
        * src/lorica/ProxyMapper.cpp:
        * src/lorica/ProxyReplyHandler.h:
        * src/lorica/ProxyServant.h:
        * src/lorica/ProxyServant.cpp:
        * src/lorica/ReferenceMapValue.h:
        * src/lorica/ReferenceMapValue.cpp:
        * src/lorica/lorica.mpc:
        * src/proxy/ReferenceMapper_i.h:
        * src/proxy/ReferenceMapper_i.cpp:

          Made the code compilable. It is still largely stubbed out though.

Tue Feb 27 19:13:02 UTC 2007  Ciju John  <johnc@ociweb.com>

        * src/proxy/proxy.cpp:
          root_poa initialization etc..

Tue Feb 27 17:16:21 UTC 2007  Ciju John  <johnc@ociweb.com>

        * src/proxy/Config.h:
        * src/proxy/Config.cpp:
        * src/proxy/FileConfig.h:
        * src/proxy/FileConfig.cpp:
          Modified configuration syntax based upon design doc.

        * src/proxy/proxy.h:
        * src/proxy/proxy.cpp:
        * src/proxy/proxy.mpc:
          Partial implementation for initializing the internal & external
          POA managers.

Mon Feb 26 16:38:24 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/EvaluatorBase.cpp:
        * src/lorica/EvaluatorBase.h:
        * src/lorica/ProxyReplyHandler.h:
        * src/lorica/ProxyServant.cpp:
        * src/lorica/ProxyServant.h:
          Added new files.

        * src/ProxyMapper.cpp:
        * src/ProxyMapper.h:
          Added more implementation.

        * docs/Lorica_Model.mdzip:
          Updated model to be consistent with the budding implementation.

Mon Feb 26 11:19:04 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/lorica/ProxyMapper.cpp:
        * src/lorica/MapperRegistry.cpp:
          Added new files.

Thu Feb 22 11:37:45 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * docs/Lorica_Model.mdzip:
          Updated model to add new elements, ProxyCore, ProxyMapper.

        * src/lorica/ProxyMapper.h:
        * src/lorica/MapperRegistry.h:
        * src/lorica/ReferenceMapValue.h:
          Added new files.

Wed Feb 21 12:45:10 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * docs/design_topics.odt:
          Freshened text related to directories and config.

        * src/proxy/ReferenceMapper_i.h:
        * src/proxy/proxy.cpp:
        * src/proxy/proxy.h:
          Added these files.

        * src/proxy/main.cpp:
          Previously known as lorica.cpp, renamed to better connote the
          role of the code contained within. In addtion to the file
          rename, the class ::Lorica_Process was renamed
          ::Lorica::Service_Loader.

        * src/proxy/ntsvc.cpp:
        * src/proxy/ntsvc.h:
        * src/proxy/Config.cpp:
        * src/proxy/Config.h:
        * src/proxy/FileConfig.cpp:
        * src/proxy/FileConfig.h:
          Added Lorica namespace, updated style.

        * src/proxy/proxy.mpc:
          Added new files to project.

        * src/lorica/lorica.mpc:
        * src/lorica/ReferenceMapper.idl:
        * src/lorica/ServerAgent.idl:
          Added a new directory to contain the idl and eventually any
          other elements needed by any libraries used by Lorica or its
          clients.


Tue Feb 20 15:44:43 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * docs/design_topics.odt:
          Added text about directory layout and configuration.

Tue Feb 20 18:29:03 UTC 2007  Ciju John  <johnc@ociweb.com>

        * src/proxy/Config.h:
        * src/proxy/Config.cpp:
          Configuration interface.

        * src/proxy/FileConfig.h:
        * src/proxy/FileConfig.cpp:
          Concrete implementation of File based configurator.

Tue Feb 20 17:32:47 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/proxy/ntsvc.h:

          included a required header.

Mon Feb 19 18:33:36 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/proxy/lorica.cpp:
        * src/proxy/ntsvc.h:
        * src/proxy/ntsvc.cpp:

          Code clean up.

Fri Feb 16 19:58:48 UTC 2007  Ciju John  <johnc@ociweb.com>

        * src/proxy/lorica.cpp:
          Add required header include.

Thu Feb 15 16:00:50 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * docs/Lorica_Model.mdzip:
          Added more class diagram elements and sequence diagrams for
          explicit mapping of server references and handling invocations.

Thu Feb 15 11:03:53 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        * src/ReferenceMapper.idl:
        * src/ServerAgent.idl:

          Added new interfaces as part of the proxy project. The
          ReferenceMapper interface will be implemented by the proxy and
          used by applications wanting to explictly map references. The
          ServerAgent interface will be implemented by applications
          wanting to be informed about proxy status, and be used by the
          proxy.

        * docs/M1_task_details.txt:
          A new document outlining the implementation tasks for milestone
          one in greater detail.

        * docs/Lorica_Model.mdzip:
          Updated the model.

Wed Feb 14 23:21:06 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/proxy/lorica.cpp:

          Made Lorica to compile and run as a service on Windows.

Wed Feb 14 16:40:05 UTC 2007  Wallace Zhang  <zhang_w@ociweb.com>

        * src/proxy:

        * src/proxy/lorica.cpp:
        * src/proxy/ntsvc.h:
        * src/proxy/ntsvc.cpp:
        * src/proxy/proxy.mpc:

          adding the source for the proxy executable, i.e., lorica.

Fri Feb  9 11:24:46 2007  Phil Mesnier  <mesnier_p@ociweb.com>

        Created Lorica project workspace
